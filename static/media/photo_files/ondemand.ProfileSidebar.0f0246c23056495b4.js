webpackJsonp(["ondemand.ProfileSidebar"],{"5mw6":function(e,t,n){"use strict";var r=n("n12u"),a=(n.n(r),n("aHWw"));t.a=function(e){return Object(a.a)({timelineId:"userMedia-"+e,getEndpoint:function(e){return e.URT.fetchUserMedia},getEndpointParams:function(t){return Object.assign({userId:e},t)},context:"FETCH_MEDIA_TIMELINE",perfKey:"userMedia"})}},Ihjz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n("VjuZ"),n("n12u");var r=n("86MP"),a=n.n(r),i=n("M1I4"),c=n.n(i),o=n("fKPv"),d=n.n(o),s=n("FxnA"),u=n("GiK3"),l=n("d39v"),p=n("BkKE"),f=n("bndy"),h=n("qCVd"),m=n("IIZ1"),I=n("JSXd"),b=n("5mw6"),M=Object(m.memoize)(function(e){return Object(b.a)(e)}),g=[],_=Object(f.createSelector)(function(e,t){return M(t).selectEntries(e)},I.a.createHydratedSelector,function(e,t){return Object(m.flatMap)(e,function(e){var n=e.type===h.a.Tweet&&t(e.content.id);return n&&!n.tombstoneInfo&&!n.isDeleted&&n.extended_entities&&n.extended_entities.media||g})}),E=n("Z1LJ"),v=n("sLaq"),A=n("5xYb"),S=Object(f.createSelector)(function(e,t){return _(e,t.userId)},function(e,t){return function(e,t){return M(t).selectInitialFetchStatus(e)}(e,t.userId)||A.a.LOADING},function(e,t){return{mediaItems:e,mediaFetchStatus:t}}),j={createLocalApiErrorHandler:Object(v.b)("PROFILE_SIDE_BAR"),fetchRecentMediaIfNeeded:function(e){return M(e).fetchInitial()}},O=Object(E.e)(S,j),L=n("zAiL"),R=n("jH3T"),x=n.n(R),y=n("K+nE"),w=n("i2DS"),D=n.n(w),U=n("jYKd"),H=n.n(U);n("KSGD");n.d(t,"ProfileSidebarContainer",function(){return P}),n.d(t,"toRelativePath",function(){return C});var K=x.a.d33241c5,P=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,d()(c()(c()(t)),"_getApiErrorHandlerMap",function(){var e;return(e={})[l.a.NotAuthorizedToViewUser]={customAction:m.noop},e}),d()(c()(c()(t)),"_fetchRecentUserMedia",function(){var e=t.props,n=e.createLocalApiErrorHandler;(0,e.fetchRecentMediaIfNeeded)(e.userId).catch(n(t._getApiErrorHandlerMap()))}),t}a()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){e.userId!==this.props.userId&&this._fetchRecentUserMedia()},n.componentDidMount=function(){this._fetchRecentUserMedia()},n.render=function(){var e=this.props.mediaFetchStatus;return e&&e!==L.a.LOADING?this._renderSidebar():u.createElement(D.a,{accessibilityLabel:"Loading profile sidebar"})},n._renderSidebar=function(){var e=this._getImages();return u.createElement(p.a,{profileUserId:this.props.userId},e.length>=2&&!this.props.hideMediaModule?u.createElement(y.a,{cacheLocationKey:"profileSidebar",images:e,singleImageMaxAspectRatio:H.a.theme.aspectRatios.landscape,singleImageMinAspectRatio:H.a.theme.aspectRatios.landscape}):null)},n._getImages=function(){var e=this.props.mediaItems;return e.map(function(t,n){var r={pathname:C(t.expanded_url),state:{mediaItems:{items:e,index:n}}};return Object.assign({},s.c(t),{backgroundColor:s.a(t),cropCandidates:s.b(t),accessibilityLabel:t.ext_alt_text||K,shouldShowAltBadge:!1,expandedUrl:r})})},t}(u.Component),C=function(e){return e.replace("https://twitter.com","")};t.default=O(P)}});