webpackJsonp(["loader.TweetPhotos"],{zYYA:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("lt8z"),i=r.n(n),a=r("Z8+c"),o=r.n(a),c=r("86MP"),u=r.n(c),s=r("M1I4"),l=r.n(s),p=r("fKPv"),g=r.n(p),h=r("GiK3"),m=r("0lfx"),d=r("jH3T"),f=r.n(d),_=(r("No4x"),r("jaZx")),v=r("QumW"),I=r("KXFW"),y=r("86z1"),R=(r("KSGD"),r("+hl5")),G=r.n(R),A=r("fc63"),w=r.n(A),E=r("jYKd"),C=r.n(E),O=r("x5lS"),x=r.n(O),M=r("MjES"),b=r.n(M),S=6,B={},L=function(e){function t(r){var n;if(n=e.call(this,r)||this,r.cacheLocationKey){var i=r.cacheLocationKey;n._cacheGroup=B[i],n._cacheGroup||(n._cacheGroup=t.generateCacheGroup(S),B[i]=n._cacheGroup)}return n}u()(t,e);var r=t.prototype;return r.render=function(){switch(this._getGroupSize()){case 0:return null;case 1:return this._renderGroupOf1();case 2:return this._renderGroupOf2();case 3:return this._renderGroupOf3();case 4:return this._renderGroupOf4();case 5:return this._renderGroupOf5();default:return this._renderGroupOf6()}},r._renderGroupOf1=function(){var e=this.props,t=e.singleImageMaxAspectRatio,r=e.singleImageMinAspectRatio,n=this._cacheGroup?this._cacheGroup[0]:void 0;return this._renderImageAtIndex(0,G.a.withinRange(r,t),null,n)},r._renderGroupOf2=function(){return h.createElement(P,{containerAspectRatio:this.props.containerAspectRatio},this._groupImage(0,2,k.gutterRight),this._groupImage(1,2))},r._renderGroupOf3=function(){return h.createElement(P,{containerAspectRatio:this.props.containerAspectRatio},this._groupImage(0,3,k.gutterRight),h.createElement(j,null,this._groupImage(1,3,k.gutterBottom),this._groupImage(2,3)))},r._renderGroupOf4=function(){return h.createElement(P,{containerAspectRatio:this.props.containerAspectRatio},h.createElement(j,{style:k.gutterRight},this._groupImage(0,4,k.gutterBottom),this._groupImage(2,4)),h.createElement(j,null,this._groupImage(1,4,k.gutterBottom),this._groupImage(3,4)))},r._renderGroupOf5=function(){return h.createElement(P,{column:!0,containerAspectRatio:this.props.containerAspectRatio},h.createElement(K,{style:k.gutterBottom},this._groupImage(0,5,k.gutterRight),this._groupImage(1,5)),h.createElement(K,null,this._groupImage(2,5,k.gutterRight),this._groupImage(3,5,k.gutterRight),this._groupImage(4,5)))},r._renderGroupOf6=function(){return h.createElement(P,{column:!0,containerAspectRatio:this.props.containerAspectRatio},h.createElement(K,{style:k.gutterBottom},this._groupImage(0,6,k.gutterRight),this._groupImage(1,6,k.gutterRight),this._groupImage(2,6)),h.createElement(K,null,this._groupImage(3,6,k.gutterRight),this._groupImage(4,6,k.gutterRight),this._groupImage(5,6)))},r._groupImage=function(e,t,r){var n=this._cacheGroup?this._cacheGroup[t-1]:void 0;return this._renderImageAtIndex(e,G.a.COVER,[k.item,k.relativePositioning,r],n)},r._renderImageAtIndex=function(e,t,r,n){var i=this.props,a=i.images,o=i.previewMode,c=i.onVariantSelection,u=a[e];return this._wrapImage(u.expandedUrl,r,h.createElement(b.a,{style:k.imageContainer},h.createElement(_.a,{accessibilityLabel:u.accessibilityLabel,aspectMode:t,backgroundColor:u.backgroundColor,cropCandidates:u.cropCandidates,image:u,layoutCache:n?n[e]:void 0,onVariantSelection:c,previewMode:o,withLoadingIndicator:!0}),u.shouldShowAltBadge?h.createElement(v.a,null):null))},r._wrapImage=function(e,t,r){return x()(I.Link,{onClick:this.props.onClick,to:e,style:t,children:r})},r._getGroupSize=function(){var e=this.props.images.length;return 0===e&&Object(y.a)("TweetPhotos: empty array of images received"),Math.min(e,S)},t}(h.Component);g()(L,"generateCacheGroup",function(e){return new Array(e).fill(null).map(function(e,t){return new Array(t+1).fill(null).map(function(e){return _.a.createLayoutCache()})})});var P=function(e){var t=e.children,r=e.containerAspectRatio,n=void 0===r?C.a.theme.aspectRatios.landscape:r,i=e.column,a=void 0!==i&&i;return h.createElement(w.a,{ratio:n},h.createElement(b.a,{style:[k.wideContainer,a?k.column:k.row]},t))},j=function(e){var t=e.style,r=e.children;return h.createElement(b.a,{style:[t,k.item,k.column]},r)},K=function(e){var t=e.style,r=e.children;return h.createElement(b.a,{style:[t,k.item,k.row]},r)},k=C.a.create(function(e){return{wideContainer:{width:"100%",height:"100%"},imageContainer:{height:"100%"},row:{flexDirection:"row"},column:{flexDirection:"column"},gutterRight:{marginRight:"2px"},gutterBottom:{marginBottom:"2px"},item:{flexGrow:1,flexBasis:0},relativePositioning:{position:"relative"}}}),z=f.a.i7c776d5,D=f.a.da26d25f,V=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,g()(l()(l()(t)),"_renderContent",function(e){var r=e.useMinimumData,n=e.resourceSelectionHandler,a=t.props,c=(a.hideAcceptOverlay,o()(a,["hideAcceptOverlay"]));return h.createElement(L,i()({},c,{onVariantSelection:n,previewMode:r}))}),t}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.images,r=e.hideAcceptOverlay;return h.createElement(m.a,{acceptLabel:1===t.length?z:D,hideAcceptOverlay:r,renderContent:this._renderContent,resourceId:t.map(function(e){return e.url}).join(";")})},t}(h.Component);g()(V,"defaultProps",{hideAcceptOverlay:!1});t.default=V}});